%title Application for Mysql

%toc

=申请关系型数据库 - Mysql=

==Logging2.0 架构 ==
{{central_logging_2.0.png|central_logging_2.0|style="width:900px"}}

* 如上Central Logging 2.0的架构
* 需要一台关系型数据库存储相应的信息
* 数据库名central-logging
 
==MySql的用途 ==
{{logging-mysql.png}}

使用该数据库的有两者：
# Restful Api : 用于存放一些配置信息
# Hive : 用于存放元数据

==MySql存储的信息 ==

===loging配置信息 ===
* 针对appId或Ip的配置信息：日志级别，是否开启trace, 是否开启metrics

===loging用到的元数据信息 ===
* department: 部门列表信息
* idc: idc机房信息
* app: app信息
* serverHosts: 在线服务器信息
* services: 所有开启trace的service
* spans: 所有开启trace的service的方法

===Namespace配置信息 ===
目前有针对Metrics的namespace信息：
# hbase: 可用的hbase实例
# metric_namespace: 所有的metric namespace信息
# namespace_read: 对namespace可读的ip白名单
# namespace_write: 对namespace可写的ip白名单

===Hive元数据配置信息 ===
* Hive需要Mysql存放自身的元数据

