<!DOCTYPE html>
<html>
<head>

<title>Setting up a Hadoop Cluster </title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<script type="text/javascript" src="../../js/jquery-1.6.4.min.js"></script>

<link rel="Stylesheet" type="text/css" href="../../js/sh/styles/shCore.css">
<link rel="Stylesheet" type="text/css" href="../../js/sh/styles/shThemeRDark.css">
<script type="text/javascript" src="../../js/sh/scripts/shCore.js"></script>
<script type="text/javascript" src="../../js/sh/scripts/shAutoloader.js"></script>

<script type="text/javascript" src="../../js/main.js"></script>
<script type="text/javascript" src="../../js/ASCIIMathML.js"></script>

<link rel="Stylesheet" type="text/css" href="../../style.css">
<link rel="Stylesheet" type="text/css" href="../../css/main.css">

</head>
<body>
	<div class="hidden">
		<input id="root_path" type="text" value="../../">
	</div>
	<div id="body-wrapper">
		<div id="container">
			<div id="top">
				<div id="page-title">
					<a href="../../index.html">烂笔头</a>
				</div>
				<ul id="top-nav">
				</ul>
			</div>
			<div id="middle">
				

<h1 id="toc_1">Setting up a Hadoop Cluster</h1>

<p>
当前日期: 02/25/2013 Mon 
</p>

<div class="toc">
<ul>
<li><a href="#toc_1">Setting up a Hadoop Cluster</a>
<ul>
<li><a href="#toc_1.1">集群规范</a>
<ul>
<li><a href="#toc_1.1.1">网络拓扑</a>
</ul>
</ul>
</ul>
</div>

<h2 id="toc_1.1">集群规范</h2>
<ul>
<li>
使用商业硬件

<ol>
<li>
不代表低端硬件，故障率太高，会带来很大的维护成本

<li>
不使用昂贵的硬件，性价比太低

</ol>
<li>
关于RAID

<ol>
<li>
Namenode使用Raid1

<li>
Datanode可以使用Raid0提高磁盘效率，但一般不使用，而使用Hadoop自身的JBOD(Just a bunch of disks)

<ul>
<li>
RAID0 有木桶效应，受限于性能差的磁盘

<li>
JBOD循环使用磁盘

<li>
一个测试中JBOD比RADID 0快30%

</ul>
</ol>
<li>
计算集群增长量

<ol>
<li>
1 week = (3T/week*replicationNum)*1.3

<li>
30%用于中间文件和日志

</ol>
</ul>

<h3 id="toc_1.1.1">网络拓扑</h3>
<p>
<img src="hadoop_topology.png" />
</p>
<ol>
<li>
一般为两层架构

<li>
一个机架为30~40台机器，使用一个千兆交换机

<li>
各机架的交换机连接一个上层的千兆交换机（或更好）

</ol>

			</div>

			<div id="bottom">
				&copy; 2012 王兴朝
			</div>
		</div>
	<div>
</body>
</html>
