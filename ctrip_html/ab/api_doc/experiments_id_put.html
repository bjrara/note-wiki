<!DOCTYPE html>
<html>
<head>

<title>/ab/experiments/{experimentId} PUT 更新一个指定的测试</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<script type="text/javascript" src="../../js/jquery-1.6.4.min.js"></script>

<link rel="Stylesheet" type="text/css" href="../../js/sh/styles/shCore.css">
<link rel="Stylesheet" type="text/css" href="../../js/sh/styles/shThemeRDark.css">
<script type="text/javascript" src="../../js/sh/scripts/shCore.js"></script>
<script type="text/javascript" src="../../js/sh/scripts/shAutoloader.js"></script>

<script type="text/javascript" src="../../js/main.js"></script>

<link rel="Stylesheet" type="text/css" href="../../style.css">
<link rel="Stylesheet" type="text/css" href="../../css/main.css">

</head>
<body>
	<div class="hidden">
		<input id="root_path" type="text" value="../../">
	</div>
	<div id="body-wrapper">
		<div id="container">
			<div id="top">
				<div id="page-title">
					<a href="../../index.html">CTRIP</a>
				</div>
				<ul id="top-nav">
				</ul>
			</div>
			<div id="middle">
				

<h1 id="toc_1">/ab/experiments/{code} PUT</h1>
<div class="toc">
<ul>
<li><a href="#toc_1">/ab/experiments/{code} PUT</a>
<ul>
<li><a href="#toc_1.1">功能</a>
<li><a href="#toc_1.2">URL</a>
<li><a href="#toc_1.3">HTTP请求方式</a>
<li><a href="#toc_1.4">请求类型</a>
<li><a href="#toc_1.5">请求参数</a>
<ul>
<li><a href="#toc_1.5.1">路径参数</a>
<li><a href="#toc_1.5.2">XML参数</a>
<li><a href="#toc_1.5.3">JSON 参数</a>
</ul>
<li><a href="#toc_1.6">返回结果</a>
<li><a href="#toc_1.7">测试</a>
</ul>
</ul>
</div>

<h2 id="toc_1.1">功能</h2>
<p>
更新一个 <code>Experiment</code> 实例
</p>

<h2 id="toc_1.2">URL</h2>
<p>
/ab/experiments/{code}
</p>

<h2 id="toc_1.3">HTTP请求方式</h2>
<p>
PUT
</p>

<h2 id="toc_1.4">请求类型</h2>
<p>
JSON XML
</p>

<h2 id="toc_1.5">请求参数</h2>
<p>
通过路径参数  <code>code</code> 指定要更新的 <code>Experiment</code>, 传输一个 <code>Experiment</code> 完整的XML或JSON的描述 , 用于更新信息
</p>

<h3 id="toc_1.5.1">路径参数</h3>
<table>
<tr>
<th>
参数名 
</th>
<th>
值 
</th>
<th>
描述
</th>
</tr>
<tr>
<td>
code
</td>
<td>
数字型 
</td>
<td>
要更新的 <code>Experiment</code> 的code
</td>
</tr>
</table>

<h3 id="toc_1.5.2">XML参数</h3>
<pre  class="brush:xml">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;experiment&gt;
   &lt;url&gt;http://localhost:8080/ab-service/experiments/HOTEL_HOME_PAGE_BANNER906453e3-5f86-48d3-a093-de8dee183e74&lt;/url&gt;
   &lt;code&gt;HOTEL_HOME_PAGE_BANNER906453e3-5f86-48d3-a093-de8dee183e74&lt;/code&gt;
   &lt;name&gt;Test of the login page.&lt;/name&gt;
   &lt;description&gt;Test of the login page.&lt;/description&gt;
   &lt;startDate&gt;2012-10-25 00:00&lt;/startDate&gt;
   &lt;endDate&gt;2012-10-25 00:00&lt;/endDate&gt;
   &lt;isActive&gt;true&lt;/isActive&gt;
   &lt;ruleType&gt;
      &lt;url&gt;http://localhost:8080/ab-service/rule-types/PERSENT&lt;/url&gt;
      &lt;code&gt;PERSENT&lt;/code&gt;
      &lt;description&gt;The users fork by percentage&lt;/description&gt;
   &lt;/ruleType&gt;
   &lt;properties&gt;
      &lt;property&gt;
         &lt;name&gt;a&lt;/name&gt;
         &lt;value&gt;a&lt;/value&gt;
      &lt;/property&gt;
      &lt;property&gt;
         &lt;name&gt;b&lt;/name&gt;
         &lt;value&gt;b&lt;/value&gt;
      &lt;/property&gt;
      &lt;property&gt;
         &lt;name&gt;c&lt;/name&gt;
         &lt;value&gt;c&lt;/value&gt;
      &lt;/property&gt;
      &lt;property&gt;
         &lt;name&gt;d&lt;/name&gt;
         &lt;value&gt;d&lt;/value&gt;
      &lt;/property&gt;
   &lt;/properties&gt;
   &lt;alternatives&gt;
      &lt;alternative&gt;
         &lt;code&gt;A_A&lt;/code&gt;
         &lt;name&gt;A1&lt;/name&gt;
         &lt;description&gt;A1 desp.&lt;/description&gt;
         &lt;isActive&gt;true&lt;/isActive&gt;
         &lt;ruleParams&gt;
            &lt;param1&gt;a1p1&lt;/param1&gt;
         &lt;/ruleParams&gt;
         &lt;properties&gt;
            &lt;property&gt;
               &lt;name&gt;a&lt;/name&gt;
               &lt;value&gt;a&lt;/value&gt;
            &lt;/property&gt;
         &lt;/properties&gt;
      &lt;/alternative&gt;
      &lt;alternative&gt;
         &lt;code&gt;A_B&lt;/code&gt;
         &lt;name&gt;B1&lt;/name&gt;
         &lt;description&gt;B1 desp.&lt;/description&gt;
         &lt;isActive&gt;true&lt;/isActive&gt;
         &lt;ruleParams&gt;
            &lt;param1&gt;a2p1&lt;/param1&gt;
         &lt;/ruleParams&gt;
         &lt;properties&gt;
            &lt;property&gt;
               &lt;name&gt;a&lt;/name&gt;
               &lt;value&gt;a&lt;/value&gt;
            &lt;/property&gt;
         &lt;/properties&gt;
      &lt;/alternative&gt;
   &lt;/alternatives&gt;
&lt;/experiment&gt;

</pre>
  
<h3 id="toc_1.5.3">JSON 参数</h3>
<pre  class="brush:js">
{
   "url": "http://localhost:8080/ab-service/experiments/HOTEL_HOME_PAGE_BANNER906453e3-5f86-48d3-a093-de8dee183e74",
   "code": "HOTEL_HOME_PAGE_BANNER906453e3-5f86-48d3-a093-de8dee183e74",
   "name": "Test of the login page.",
   "description": "Test of the login page.",
   "startDate": "2012-10-25 00:00",
   "endDate": "2012-10-25 00:00",
   "isActive": true,
   "ruleType": {
      "url": "http://localhost:8080/ab-service/rule-types/PERSENT",
      "code": "PERSENT",
      "description": "The users fork by percentage"
   },
   "properties": [
      {
         "name": "a",
         "value": "a"
      },
      {
         "name": "b",
         "value": "b"
      },
      {
         "name": "c",
         "value": "c"
      },
      {
         "name": "d",
         "value": "d"
      }
   ],
   "alternatives": [
      {
         "code": "A_A",
         "name": "A1",
         "description": "A1 desp.",
         "isActive": true,
         "ruleParams": {
            "param1": "a1p1",
            "param2": null,
            "param3": null,
            "param4": null,
            "param5": null,
            "param6": null,
            "param7": null,
            "param8": null,
            "param9": null
         },
         "properties": [
            {
               "name": "a",
               "value": "a"
            }
         ]
      },
      {
         "code": "A_B",
         "name": "B1",
         "description": "B1 desp. ",
         "isActive": true,
         "ruleParams": {
            "param1": "a2p1",
            "param2": null,
            "param3": null,
            "param4": null,
            "param5": null,
            "param6": null,
            "param7": null,
            "param8": null,
            "param9": null
         },
         "properties": [
            {
               "name": "a",
               "value": "a"
            }
         ]
      }
   ]
}
</pre>


<h2 id="toc_1.6">返回结果</h2>
<table>
<tr>
<th>
状态 
</th>
<th>
结果
</th>
</tr>
<tr>
<td>
200
</td>
<td>
更新成功
</td>
</tr>
</table>

<h2 id="toc_1.7">测试</h2>
<pre  class="brush:bash">
curl -v -X put -HContent-type:application/xml --data "&lt;xml data&gt;" https://baseurl/experiments/HOTEL_HOME_PAGE_BANNER906453e3
curl -v -X put -HContent-type:application/json --data "&lt;json data&gt;" https://baseurl/experiments/HOTEL_HOME_PAGE_BANNER906453e3
</pre>

			</div>

			<div id="bottom">
				&copy; 2012 王兴朝
			</div>
		</div>
	<div>
</body>
</html>
